set(GUI ${YCSoar_SOURCE_DIR}/src/Gui)
set(PREFLIGHT ${GUI}/PreFlight)
set(FLIGHT ${GUI}/Flight)
set(POSTFLIGHT ${GUI}/PostFlight)
set(PREFLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/PreFlight)
set(FLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/Flight)
set(POSTFLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/PostFlight)

set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTORCC ON)
set(CMAKE_INCLUDE_CURRENT_DIR ON)

find_package(Qt5Widgets REQUIRED)
find_package(Qt5Qml REQUIRED)
find_package(Qt5 COMPONENTS Quick Core Network)

# Disable this woarning as an error - necessary for source generated by 'rcc'.
add_compile_options("-Wno-error=missing-declarations")

add_subdirectory(PreFlight)
add_subdirectory(Flight)
add_subdirectory(PostFlight)

add_custom_target(gui-linux-32 
                  DEPENDS preflight-linux-32-debug
                          preflight-linux-32-release)
add_custom_target(gui-linux DEPENDS gui-linux-32)
add_custom_target(gui DEPENDS gui-linux)
add_custom_target(gui-debug DEPENDS preflight-linux-32-debug)
add_custom_target(gui-release DEPENDS preflight-linux-32-release)
