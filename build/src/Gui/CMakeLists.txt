set(XCSOAR_HOME ${YCSoar_SOURCE_DIR}/submodule/xcsoar-exp)
set(XCSOAR_SRC ${XCSOAR_HOME}/src)
include_directories(${XCSOARTHUNK}
                    ${XCSOAR_SRC}/unix
                    ${XCSOAR_SRC}/Engine/Task
                    ${XCSOAR_SRC}/Engine)
set(PREFLIGHT ${GUI}/PreFlight)
set(FLIGHT ${GUI}/Flight)
set(POSTFLIGHT ${GUI}/PostFlight)
set(PREFLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/PreFlight)
set(FLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/Flight)
set(POSTFLIGHT_BINARY ${YCSoar_BINARY_DIR}/build/src/Gui/PostFlight)

# Disable this woarning as an error - necessary for source generated by 'rcc'.
add_compile_options("-Wno-error=missing-declarations")

add_subdirectory(PreFlight)
add_subdirectory(Flight)
add_subdirectory(PostFlight)

add_custom_target(gui-linux-native 
                  DEPENDS preflight-linux-native-debug
                          preflight-linux-native-release)
add_custom_target(gui-linux DEPENDS gui-linux-native)
add_custom_target(gui DEPENDS gui-linux)
add_custom_target(gui-debug 
                  DEPENDS preflight-linux-native-debug
                          flight-linux-native-debug)
add_custom_target(gui-release 
                  DEPENDS preflight-linux-native-release
                          flight-linux-native-release)
